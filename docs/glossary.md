# üìö –ì–ª–æ—Å—Å–∞—Ä–∏–π –∏ —Å–∫–ª–æ–Ω–µ–Ω–∏—è

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Ä–∞–±–æ—Ç–µ —Å –≥–ª–æ—Å—Å–∞—Ä–∏–µ–º –∏ —Å–∏—Å—Ç–µ–º–æ–π —Å–∫–ª–æ–Ω–µ–Ω–∏–π –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞.

---

## –û–±–∑–æ—Ä

–ì–ª–æ—Å—Å–∞—Ä–∏–π –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:
- **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å** ‚Äî –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –ø–µ—Ä–µ–≤–æ–¥ –∏–º—ë–Ω –∏ —Ç–µ—Ä–º–∏–Ω–æ–≤
- **–°–∫–ª–æ–Ω–µ–Ω–∏—è** ‚Äî –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–∞–¥–µ–∂–Ω—ã–µ —Ñ–æ—Ä–º—ã –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
- **–ö–æ–Ω—Ç–µ–∫—Å—Ç** ‚Äî –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥—á–∏–∫–∞

---

## –¢–∏–ø—ã –∑–∞–ø–∏—Å–µ–π

### Character (–ü–µ—Ä—Å–æ–Ω–∞–∂)

```typescript
interface Character {
  id: string;
  originalName: string;      // "Alexander"
  translatedName: string;    // "–ê–ª–µ–∫—Å–∞–Ω–¥—Ä"
  declensions: Declensions;  // –ü–∞–¥–µ–∂–Ω—ã–µ —Ñ–æ—Ä–º—ã
  gender: 'male' | 'female' | 'neutral' | 'unknown';
  description: string;       // "Main protagonist"
  aliases: string[];         // ["Alex", "Sasha"]
  firstAppearance: number;   // –ù–æ–º–µ—Ä –≥–ª–∞–≤—ã
  isMainCharacter: boolean;
}
```

### Location (–õ–æ–∫–∞—Ü–∏—è)

```typescript
interface Location {
  id: string;
  originalName: string;      // "Crystal Palace"
  translatedName: string;    // "–•—Ä—É—Å—Ç–∞–ª—å–Ω—ã–π –¥–≤–æ—Ä–µ—Ü"
  description: string;
  type: 'city' | 'country' | 'building' | 'region' | 'world' | 'other';
}
```

### Term (–¢–µ—Ä–º–∏–Ω)

```typescript
interface Term {
  id: string;
  originalTerm: string;      // "mana"
  translatedTerm: string;    // "–º–∞–Ω–∞"
  category: 'skill' | 'magic' | 'item' | 'title' | 'organization' | 'race' | 'other';
  description: string;
  context?: string;
}
```

---

## –°–∫–ª–æ–Ω–µ–Ω–∏—è (Declensions)

–†—É—Å—Å–∫–∏–π —è–∑—ã–∫ –∏–º–µ–µ—Ç 6 –ø–∞–¥–µ–∂–µ–π. –î–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏–º—ë–Ω –≤ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è—Ö –Ω—É–∂–Ω—ã –≤—Å–µ —Ñ–æ—Ä–º—ã.

### –ü–∞–¥–µ–∂–∏

```typescript
interface Declensions {
  nominative: string;    // –ò–º–µ–Ω–∏—Ç–µ–ª—å–Ω—ã–π (–∫—Ç–æ? —á—Ç–æ?) ‚Äî –ò–≤–∞–Ω
  genitive: string;      // –†–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π (–∫–æ–≥–æ? —á–µ–≥–æ?) ‚Äî –ò–≤–∞–Ω–∞
  dative: string;        // –î–∞—Ç–µ–ª—å–Ω—ã–π (–∫–æ–º—É? —á–µ–º—É?) ‚Äî –ò–≤–∞–Ω—É
  accusative: string;    // –í–∏–Ω–∏—Ç–µ–ª—å–Ω—ã–π (–∫–æ–≥–æ? —á—Ç–æ?) ‚Äî –ò–≤–∞–Ω–∞
  instrumental: string;  // –¢–≤–æ—Ä–∏—Ç–µ–ª—å–Ω—ã–π (–∫–µ–º? —á–µ–º?) ‚Äî –ò–≤–∞–Ω–æ–º
  prepositional: string; // –ü—Ä–µ–¥–ª–æ–∂–Ω—ã–π (–æ –∫–æ–º? –æ —á—ë–º?) ‚Äî –ò–≤–∞–Ω–µ
}
```

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ —Ç–µ–∫—Å—Ç–µ

| –ü–∞–¥–µ–∂ | –í–æ–ø—Ä–æ—Å | –ü—Ä–∏–º–µ—Ä |
|-------|--------|--------|
| –ò–º–µ–Ω–∏—Ç–µ–ª—å–Ω—ã–π | –ö—Ç–æ? | **–ò–≤–∞–Ω** –ø—Ä–∏—à—ë–ª –¥–æ–º–æ–π |
| –†–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π | –ö–æ–≥–æ –Ω–µ—Ç? | –ó–¥–µ—Å—å –Ω–µ—Ç **–ò–≤–∞–Ω–∞** |
| –î–∞—Ç–µ–ª—å–Ω—ã–π | –ö–æ–º—É? | –û—Ç–¥–∞–π —ç—Ç–æ **–ò–≤–∞–Ω—É** |
| –í–∏–Ω–∏—Ç–µ–ª—å–Ω—ã–π | –ö–æ–≥–æ –≤–∏–∂—É? | –Ø –≤–∏–∂—É **–ò–≤–∞–Ω–∞** |
| –¢–≤–æ—Ä–∏—Ç–µ–ª—å–Ω—ã–π | –° –∫–µ–º? | –Ø –∏–¥—É —Å **–ò–≤–∞–Ω–æ–º** |
| –ü—Ä–µ–¥–ª–æ–∂–Ω—ã–π | –û –∫–æ–º? | –†–∞—Å—Å–∫–∞–∂–∏ –æ–± **–ò–≤–∞–Ω–µ** |

---

## –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–∫–ª–æ–Ω–µ–Ω–∏—è

Arcane –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫—É **Petrovich** –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–∫–ª–æ–Ω–µ–Ω–∏–π.

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```typescript
import { translateAndDeclineName } from 'arcane-engine';

const result = translateAndDeclineName('Alexander', 'male');

console.log(result);
// {
//   translatedName: '–ê–ª–µ–∫—Å–∞–Ω–¥—Ä',
//   gender: 'male',
//   declensions: {
//     nominative: '–ê–ª–µ–∫—Å–∞–Ω–¥—Ä',
//     genitive: '–ê–ª–µ–∫—Å–∞–Ω–¥—Ä–∞',
//     dative: '–ê–ª–µ–∫—Å–∞–Ω–¥—Ä—É',
//     accusative: '–ê–ª–µ–∫—Å–∞–Ω–¥—Ä–∞',
//     instrumental: '–ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–º',
//     prepositional: '–ê–ª–µ–∫—Å–∞–Ω–¥—Ä–µ',
//   }
// }
```

### –¢—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏—è

–î–ª—è –∏–º—ë–Ω –±–µ–∑ –∏–∑–≤–µ—Å—Ç–Ω–æ–≥–æ –ø–µ—Ä–µ–≤–æ–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏—è:

```typescript
import { transliterateEnToRu } from 'arcane-engine';

transliterateEnToRu('Michael');   // '–ú–∞–π–∫–ª'
transliterateEnToRu('Catherine'); // '–ö—ç—Ç—Ä–∏–Ω'
transliterateEnToRu('George');    // '–î–∂–æ—Ä–¥–∂'
```

### –°–ª–æ–≤–∞—Ä—å –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –∏–º—ë–Ω

```typescript
import { EN_RU_NAMES } from 'arcane-engine';

// –ü—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –∏–º—ë–Ω
EN_RU_NAMES['Alexander'] = { ru: '–ê–ª–µ–∫—Å–∞–Ω–¥—Ä', gender: 'male' };
EN_RU_NAMES['Elizabeth'] = { ru: '–ï–ª–∏–∑–∞–≤–µ—Ç–∞', gender: 'female' };
EN_RU_NAMES['John']      = { ru: '–î–∂–æ–Ω', gender: 'male' };
EN_RU_NAMES['Mary']      = { ru: '–ú–∞—Ä–∏—è', gender: 'female' };
// ... –∏ –¥—Ä—É–≥–∏–µ
```

---

## API –¥–ª—è –≥–ª–æ—Å—Å–∞—Ä–∏—è

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ REST API

```bash
# –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ (—Å–∫–ª–æ–Ω–µ–Ω–∏—è —Å–≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
curl -X POST http://localhost:3000/api/projects/{id}/glossary \
  -H "Content-Type: application/json" \
  -d '{
    "type": "character",
    "original": "John",
    "gender": "male"
  }'

# Response:
# {
#   "id": "gl_001",
#   "type": "character",
#   "original": "John",
#   "translated": "–î–∂–æ–Ω",
#   "gender": "male",
#   "declensions": {
#     "nominative": "–î–∂–æ–Ω",
#     "genitive": "–î–∂–æ–Ω–∞",
#     ...
#   }
# }
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∫–æ–¥

```typescript
import { NovelAgent, translateAndDeclineName } from 'arcane-engine';

const agent = NovelAgent.create({ ... });

// –ê–≤—Ç–æ-—Å–∫–ª–æ–Ω–µ–Ω–∏—è
const { translatedName, declensions, gender } = translateAndDeclineName('William', 'male');

agent.addCharacter({
  originalName: 'William',
  translatedName,
  declensions,
  gender,
  description: 'The prince',
  aliases: ['Will', 'Billy'],
  firstAppearance: 1,
  isMainCharacter: true,
});
```

---

## GlossaryManager

–ö–ª–∞—Å—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≥–ª–æ—Å—Å–∞—Ä–∏–µ–º –≤ –¥–≤–∏–∂–∫–µ.

```typescript
import { GlossaryManager } from 'arcane-engine';

const manager = new GlossaryManager();

// –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
manager.addCharacter({
  originalName: 'Sarah',
  translatedName: '–°–∞—Ä–∞',
  gender: 'female',
  // ...
});

// –ù–∞–π—Ç–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
const character = manager.findCharacter('Sarah');

// –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∑–∞–ø–∏—Å–∏ –¥–ª—è –ø—Ä–æ–º–ø—Ç–∞
const glossaryText = manager.toPromptFormat();
```

---

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø—Ä–æ–º–ø—Ç–∞–º–∏

–ì–ª–æ—Å—Å–∞—Ä–∏–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –ø—Ä–æ–º–ø—Ç –ø–µ—Ä–µ–≤–æ–¥—á–∏–∫–∞:

```typescript
import { createGlossaryPromptSection } from 'arcane-engine';

const section = createGlossaryPromptSection(
  [
    { 
      original: 'John', 
      translated: '–î–∂–æ–Ω', 
      declensions: { genitive: '–î–∂–æ–Ω–∞', dative: '–î–∂–æ–Ω—É', ... } 
    },
  ],
  [
    { original: 'Dark Forest', translated: '–¢—ë–º–Ω—ã–π –ª–µ—Å' },
  ],
  [
    { original: 'mana', translated: '–º–∞–Ω–∞' },
  ]
);

// –†–µ–∑—É–ª—å—Ç–∞—Ç:
// ### Characters
// - John ‚Üí –î–∂–æ–Ω (—Ä–æ–¥: –î–∂–æ–Ω–∞, –¥–∞—Ç: –î–∂–æ–Ω—É)
//
// ### Locations
// - Dark Forest ‚Üí –¢—ë–º–Ω—ã–π –ª–µ—Å
//
// ### Terms
// - mana ‚Üí –º–∞–Ω–∞
```

---

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Å–∫–ª–æ–Ω–µ–Ω–∏–π

### –ú—É–∂—Å–∫–∏–µ –∏–º–µ–Ω–∞

| –û—Ä–∏–≥–∏–Ω–∞–ª | –ü–µ—Ä–µ–≤–æ–¥ | –†–æ–¥. | –î–∞—Ç. | –í–∏–Ω. | –¢–≤–æ—Ä. | –ü—Ä–µ–¥–ª. |
|----------|---------|------|------|------|-------|--------|
| Alexander | –ê–ª–µ–∫—Å–∞–Ω–¥—Ä | –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–∞ | –ê–ª–µ–∫—Å–∞–Ω–¥—Ä—É | –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–∞ | –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–º | –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–µ |
| John | –î–∂–æ–Ω | –î–∂–æ–Ω–∞ | –î–∂–æ–Ω—É | –î–∂–æ–Ω–∞ | –î–∂–æ–Ω–æ–º | –î–∂–æ–Ω–µ |
| Michael | –ú–∞–π–∫–ª | –ú–∞–π–∫–ª–∞ | –ú–∞–π–∫–ª—É | –ú–∞–π–∫–ª–∞ | –ú–∞–π–∫–ª–æ–º | –ú–∞–π–∫–ª–µ |

### –ñ–µ–Ω—Å–∫–∏–µ –∏–º–µ–Ω–∞

| –û—Ä–∏–≥–∏–Ω–∞–ª | –ü–µ—Ä–µ–≤–æ–¥ | –†–æ–¥. | –î–∞—Ç. | –í–∏–Ω. | –¢–≤–æ—Ä. | –ü—Ä–µ–¥–ª. |
|----------|---------|------|------|------|-------|--------|
| Mary | –ú–∞—Ä–∏—è | –ú–∞—Ä–∏–∏ | –ú–∞—Ä–∏–∏ | –ú–∞—Ä–∏—é | –ú–∞—Ä–∏–µ–π | –ú–∞—Ä–∏–∏ |
| Elizabeth | –ï–ª–∏–∑–∞–≤–µ—Ç–∞ | –ï–ª–∏–∑–∞–≤–µ—Ç—ã | –ï–ª–∏–∑–∞–≤–µ—Ç–µ | –ï–ª–∏–∑–∞–≤–µ—Ç—É | –ï–ª–∏–∑–∞–≤–µ—Ç–æ–π | –ï–ª–∏–∑–∞–≤–µ—Ç–µ |
| Sarah | –°–∞—Ä–∞ | –°–∞—Ä—ã | –°–∞—Ä–µ | –°–∞—Ä—É | –°–∞—Ä–æ–π | –°–∞—Ä–µ |

### –ù–µ–∏–∑–º–µ–Ω—è–µ–º—ã–µ –∏–º–µ–Ω–∞

–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–º–µ–Ω–∞ –Ω–µ —Å–∫–ª–æ–Ω—è—é—Ç—Å—è –≤ —Ä—É—Å—Å–∫–æ–º:

```typescript
// –ò–º–µ–Ω–∞ –Ω–∞ –≥–ª–∞—Å–Ω—É—é (–∂–µ–Ω—Å–∫–∏–µ –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–µ)
'Sophie' ‚Üí '–°–æ—Ñ–∏' (–≤—Å–µ –ø–∞–¥–µ–∂–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ)

// –û–¥–Ω–æ—Å–ª–æ–∂–Ω—ã–µ –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–µ –∏–º–µ–Ω–∞
'Lee' ‚Üí '–õ–∏' (–Ω–µ —Å–∫–ª–æ–Ω—è–µ—Ç—Å—è)
```

---

## –°–æ–≤–µ—Ç—ã –ø–æ —Ä–∞–±–æ—Ç–µ —Å –≥–ª–æ—Å—Å–∞—Ä–∏–µ–º

### 1. –î–æ–±–∞–≤–ª—è–π—Ç–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π –∑–∞—Ä–∞–Ω–µ–µ

–ü–µ—Ä–µ–¥ –ø–µ—Ä–µ–≤–æ–¥–æ–º –¥–æ–±–∞–≤—å—Ç–µ –≤—Å–µ—Ö –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π –≤ –≥–ª–æ—Å—Å–∞—Ä–∏–π. –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏—Ç –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å —Å –ø–µ—Ä–≤–æ–π –≥–ª–∞–≤—ã.

### 2. –£–∫–∞–∑—ã–≤–∞–π—Ç–µ –ø–æ–ª

–ü–æ–ª –≤–ª–∏—è–µ—Ç –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å —Å–∫–ª–æ–Ω–µ–Ω–∏–π. –ï—Å–ª–∏ –ø–æ–ª –Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `'unknown'`.

### 3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ aliases

–î–æ–±–∞–≤–ª—è–π—Ç–µ –ø—Å–µ–≤–¥–æ–Ω–∏–º—ã –∏ –ø—Ä–æ–∑–≤–∏—â–∞:
```typescript
{
  originalName: 'William',
  aliases: ['Will', 'Billy', 'the Prince'],
}
```

### 4. –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∞–≤—Ç–æ-—Å–∫–ª–æ–Ω–µ–Ω–∏—è

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–∫–ª–æ–Ω–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç —Ö–æ—Ä–æ—à–æ –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –∏–º—ë–Ω, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Å–ª–æ–∂–Ω—ã–µ —Å–ª—É—á–∞–∏.

### 5. –î–æ–±–∞–≤–ª—è–π—Ç–µ –∑–∞–º–µ—Ç–∫–∏

–ü–æ–ª–µ `notes` –ø–æ–º–æ–≥–∞–µ—Ç –ø—Ä–∏ —Ä—É—á–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–µ:
```typescript
{
  original: 'The Order',
  translated: '–û—Ä–¥–µ–Ω',
  notes: '–¢–∞–π–Ω–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –º–∞–≥–æ–≤, –≤—Å–µ–≥–¥–∞ —Å –∑–∞–≥–ª–∞–≤–Ω–æ–π',
}
```

